{"version":2,"kind":"Notebook","sha256":"b6bc812c4c33fb26b7fa614f55593d5381a4a1588730339f2a62cf49998f02fd","slug":"basic-map","location":"/basic_map.ipynb","dependencies":[],"frontmatter":{"title":"PyGMTの基本","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/tktmyd/pygmt-howto-jp","copyright":"2021-2025. All Rights Reserved","source_url":"https://github.com/tktmyd/pygmt-howto-jp/blob/main/src/basic_map.ipynb","edit_url":"https://github.com/tktmyd/pygmt-howto-jp/edit/main/src/basic_map.ipynb","exports":[{"format":"ipynb","filename":"basic_map.ipynb","url":"https://tktmyd.github.io/pygmt-howto-jp/build/basic_map-9c6b6c7e9f8146a7155c354abaf9b58f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ここでは，簡単な地図の作成を通じてPyGMTの使い方の基本を学びます．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pOOMR0qQVv"}],"key":"MByFIdcgc8"}],"key":"uXB4RQaI8k"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"準備","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fzrT2IJg41"}],"identifier":"id","label":"準備","html_id":"id","implicit":true,"key":"kEbbhPNsVF"}],"key":"QDHdR306wX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Jupyter Notebookの立ち上げ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g3svzaxkcY"}],"identifier":"jupyter-notebook","label":"Jupyter Notebookの立ち上げ","html_id":"jupyter-notebook","implicit":true,"key":"WGSo54XdNo"}],"key":"Qbs97BYKID"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"本節以降では，Jupyter NotebookでインタラクティブにPyGMTを実行していくことにします．そこで，（minicondaによるインストールの場合は仮想環境を","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iEKO3Ku5kG"},{"type":"inlineCode","value":"activate","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y3DTtUgfZO"},{"type":"text","value":"したのちに）端末から","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TMIEUPcVIT"}],"key":"jCkF3HGhci"},{"type":"code","lang":"bash","value":"jupyter notebook","position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"key":"A7iSmFD67R"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"によりJupyter Notebookを起動します．すると自動的に既定のブラウザが立ち上がります．別のブラウザウィンドウからも，","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qi3aTaGJI0"},{"type":"link","url":"http://localhost:8888","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"http://​localhost:8888","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yhKDsmeNdL"}],"urlSource":"http://localhost:8888","key":"igampOONDW"},{"type":"text","value":" にアクセスするとJupyterにアクセスができるはずです．\nこの記事もそうしてJupyter Notebook上で作成しています．","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QXykPATf4e"}],"key":"QeiHlGi8WG"},{"type":"admonition","kind":"caution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Caution","key":"EdFWPyD5mr"}],"key":"a9zfIIW8md"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"もしJupyter Notebookを複数立ち上げていると，接続のためのポート番号が 8888 から変わることがあります．詳しくはJupyter Notebookの起動時メッセージに記載されているはずです．","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Jz4tKuO6gE"}],"key":"UZx7liZZrP"}],"key":"Ghb8KNWAzR"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"sGGUhkmQKS"}],"key":"rpQ9VHCgMT"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"別の方法として，VSCodeで ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VIWQIbkPTZ"},{"type":"inlineCode","value":".ipynb","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"yB7qLXqFwm"},{"type":"text","value":" 拡張子のファイルを作成する方法もあります．","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"a6mNGIXlb5"},{"type":"link","url":"https://code.visualstudio.com","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"VSCode","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BaZa7NQMVy"}],"urlSource":"https://code.visualstudio.com","key":"jnW3kR2Qst"},{"type":"text","value":"はMicrosoftにより開発されているテキストエディタですが，Pythonプログラミングのための公式拡張機能を導入すれば，Jupyter Notebook形式を直接編集でき，かつminicondaで作成した仮想環境をカーネルとして選択してノートブック内のPythonスクリプトを実行することができます．","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"XysrAKwUta"}],"key":"bdoz24CX6C"}],"key":"z3jtmXioBc"}],"key":"x7kArNmf75"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"モジュールのimport","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UudVKxqQIY"}],"identifier":"id-import","label":"モジュールのimport","html_id":"id-import","implicit":true,"key":"OybYxtDHaE"}],"key":"QOPsCMOUSW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyGMTを使うためには，まず ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vrz2YBQeqI"},{"type":"inlineCode","value":"import","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q7iku7cMWs"},{"type":"text","value":" します．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vEsbYdAVzm"}],"key":"qENblaMtvt"}],"key":"fktt6lhhz3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pygmt","key":"caLFmj659J"},{"type":"output","id":"-zWax0dtAQn_dTIc906Iv","data":[],"key":"bPIoW2Cxfe"}],"key":"Nedc1PP6ld"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"これで，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iRM764Stkk"},{"type":"inlineCode","value":"pygmt.XXX","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uyW0mKNoVX"},{"type":"text","value":" という形でPyGMT内のオブジェクトを呼び出せるようになりました．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FgyIWK0uY0"}],"key":"TcRehN9zN2"}],"key":"qlxzS1xKU9"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"また，画像の保存場所として ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H68lB6IABV"},{"type":"inlineCode","value":"fig","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yzMFGT7Rtl"},{"type":"text","value":" ディレクトリを作成しておきましょう．Jupyter Notebookでは行の先頭に ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GLPQQ0eIXV"},{"type":"inlineCode","value":"!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O5P03Z3KZk"},{"type":"text","value":" をつけるか，あるいはセルの1行目に ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jxyY7HCCYT"},{"type":"inlineCode","value":"%%bash","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y4inmcmrox"},{"type":"text","value":" と書くことでシェルコマンドを実行できます．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"neZ2ama0ew"}],"key":"aeKj4lEpGQ"}],"key":"I0od2r4Z5m"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%bash\n# fig ディレクトリが存在しなければ作成する\nif [ ! -d fig ]; then\n  mkdir fig\nfi","key":"qp3RwtWRRU"},{"type":"output","id":"4mMzJsM0nt5Pxj9pG8Pnp","data":[],"key":"RZJTKm6kFt"}],"key":"ajSApqcaOp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyGMTは活発な更新がなされているため，このページに含まれているサンプルコードも，バージョンによっては修正が必要であったり，警告がでたりします．自分の使っているPyGMTのバージョンを確認するには，以下のように ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bToTFYxoOs"},{"type":"inlineCode","value":"show_versions()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EIExzzBa8w"},{"type":"text","value":"関数が便利です．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C2aGLiMv0V"}],"key":"sKFxNxxFmP"}],"key":"gvagxnjVaf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pygmt.show_versions()","key":"e5vsT6NQsT"},{"type":"output","id":"89O8rjh7WZNv6m8dXiOpj","data":[{"name":"stdout","output_type":"stream","text":"PyGMT information:\n  version: v0.17.0\nSystem information:\n  python: 3.13.9 | packaged by conda-forge | (main, Oct 22 2025, 23:38:18) [Clang 19.1.7 ]\n  executable: /Users/tktmyd/miniforge3/envs/seismo26/bin/python\n  machine: macOS-26.1-arm64-arm-64bit-Mach-O\nDependency information:\n  numpy: 2.3.5\n  pandas: 2.2.3\n  xarray: 2025.11.0\n  packaging: 25.0\n  contextily: None\n  geopandas: None\n  IPython: 9.7.0\n  pyarrow: None\n  rioxarray: None\n  gdal: 3.12.0\n  ghostscript: 10.06.0\nGMT library information:\n  version: 6.6.0\n  padding: 2\n  share dir: /Users/tktmyd/miniforge3/envs/seismo26/share/gmt\n  plugin dir: /Users/tktmyd/miniforge3/envs/seismo26/lib/gmt/plugins\n  library path: /Users/tktmyd/miniforge3/envs/seismo26/lib/libgmt.dylib\n  cores: 8\n  grid layout: rows\n  image layout: \n  binary version: 6.6.0\n"}],"key":"fvvzafWNHQ"}],"key":"NbaJAxlXoc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"show_versions()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ov4hYpsaeh"},{"type":"text","value":"関数では，上の例のように利用している関連ライブラリのバージョンやその格納状況まで詳しい情報が得られます．単にPyGMT単独のバージョンが知りたかったら，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OBtia8HJZu"}],"key":"nT6OyjpLhQ"}],"key":"EHGGdc3xOB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(pygmt.__version__)","key":"htlDmIrpBZ"},{"type":"output","id":"4UB6Z5fom-mC3hKBewtwv","data":[{"name":"stdout","output_type":"stream","text":"v0.17.0\n"}],"key":"xO1IkvbPxR"}],"key":"WIeq1n60lz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"という方法もあります．これはほとんどのPythonライブラリに対して共通に使える方法です．．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hMznB6pPCV"}],"key":"QN3mqJuVXw"}],"key":"m9dt7Fe3bV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyGMTによる作図の基本","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AWk8I09t3G"}],"identifier":"pygmt","label":"PyGMTによる作図の基本","html_id":"pygmt","implicit":true,"key":"B0ZrlH0FRH"}],"key":"RozFKY8xzw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"pygmt","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ElgeGtxroH"},{"type":"text","value":"では，まず","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ydzprvoFbC"}],"key":"GxAqXsW9m8"},{"type":"code","lang":"","value":"fig = pygmt.Figure()","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"key":"dRwd0ne2Dq"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"で図のオブジェクトを作成し，GMTのコマンドに相当する","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"z6DhP5nHG0"}],"key":"EtsDDoLCzv"},{"type":"code","lang":"","value":"fig.XXXXX()","position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"key":"PXBqRduOys"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"を重ねていくことで作図していきます．最後に","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"px3Bd82wOV"}],"key":"R7OkpxE3tc"},{"type":"code","lang":"","value":"fig.show()","position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"key":"G1f3mpZyYw"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"とすればJupyter Notebook上に表示されますし，","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"w2uvyVFgmy"}],"key":"Wy3HUBaw8e"},{"type":"code","lang":"","value":"fig.savefig(filename)","position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"key":"ziif4iN74G"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"とすると","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"raUxTfi5ZB"},{"type":"inlineCode","value":"filename","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"QhB8Fferro"},{"type":"text","value":"の拡張子に応じて画像ファイルとして保存できます．もうすこし融通の効く（その代わりにやや複雑な）画像保存の方法は ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Za3n6aKMQ9"},{"type":"link","url":"/savefig","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"こちら","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"S8Tw1aNLyA"}],"urlSource":"./savefig.ipynb","dataUrl":"/savefig.json","internal":true,"protocol":"file","key":"Gemtw5fBWw"},{"type":"text","value":" で説明します．","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"FBcuRaTHoH"}],"key":"l7lAmCEobA"}],"key":"Advgtt95J2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"基本の地図","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zniEhmLBbI"}],"identifier":"id","label":"基本の地図","html_id":"id-1","implicit":true,"key":"KkXuaFppZk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"まずは単純な，従来のGMTでの ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Fia1vkDt8d"},{"type":"inlineCode","value":"gmt pscoast","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mOKUBRZVnw"},{"type":"text","value":" コマンドに相当する地図を作図してみましょう．各オプションの意味はコード内コメントを参照してください．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LfxkpLYTh6"}],"key":"UQd1Skw17F"}],"key":"vvzyzYKCOp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = pygmt.Figure()\n\nfig.coast(\n    projection  = 'N138/12c',                         # 投影法とサイズ．メルカトルなら 'M12c' など．\n    region      = (128, 146, 30, 46),                 # 領域は西端・東端・南端・北端の順にリストかタプルで与える．\n    shorelines  = 'default,black',                    # 海岸線のペンの設定（後述）\n    area_thresh = 100,                                # 細かい領域の描画下限 (km^2) 値を大きくすると小さな島が消える\n    resolution  = 'f',                                # 'c', 'l', 'i', 'h', 'f' の順に高くなる\n    land        = '249/243/202',                      # 陸地の色を 0-255の値の R/G/B で指定\n    water       = '190/220/250',                      # 水の色を 0-255の値の R/G/B で指定\n    map_scale   = '142.5/32/32/400',                  # 距離スケールの水平・縦位置と距離サイズ\n    frame       = ['WSen+tFigure', 'xafg', 'yafg']    # 南西に軸名・タイトル指定（+t) およびXY方向それぞれの軸情報\n)\n\nfig.show()\nfig.savefig('fig/pygmt-coastline.png')","key":"tTuMrI7ih8"},{"type":"output","id":"x0luooFBsAwknqp6OANWt","data":[{"output_type":"display_data","metadata":{"image/png":{"width":500}},"data":{"image/png":{"content_type":"image/png","hash":"f649225772d5a8d5e0fbcd6b9c0d3b05","path":"https://tktmyd.github.io/pygmt-howto-jp/build/f649225772d5a8d5e0fbcd6b9c0d3b05.png"},"text/plain":{"content":"<IPython.core.display.Image object>","content_type":"text/plain"}}}],"key":"Z79IoUCyXl"}],"key":"yHs6f5LaYE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Jupyter Notebookにおける画像の表示","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pokqrffQOk"}],"identifier":"jupyter-notebook","label":"Jupyter Notebookにおける画像の表示","html_id":"jupyter-notebook-1","implicit":true,"key":"kPMdqwMDXl"}],"key":"B8BkKXDaD3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"結果をJupyter Notebook内で見るだけならば ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uh7wdfvqsk"},{"type":"inlineCode","value":"fig.show()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"npYeFaBC9B"},{"type":"text","value":"を指定します．画像として保存するなら ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uvhu6OOPrE"},{"type":"inlineCode","value":"fig.savefig","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JSlFg4cN5k"},{"type":"text","value":" ですが，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jM7vDUCrpn"},{"type":"inlineCode","value":"png","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TtSYWomSCZ"},{"type":"text","value":"のほか ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lm5FeGguYs"},{"type":"inlineCode","value":"pdf","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zS3rdnPjv2"},{"type":"text","value":"なども指定可能です．また，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MxmtjSVTml"},{"type":"inlineCode","value":"show=True","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YLyXgXX3I2"},{"type":"text","value":"オプションをつけると，その環境で標準のビューワ（","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PG3AvPYlpj"},{"type":"link","url":"http://xn--macOSPreview-l23klktepbygqw.app","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"たとえばmacOSならPreview​.app","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sAU5wbykDh"}],"urlSource":"http://xn--macOSPreview-l23klktepbygqw.app","key":"FLoEKkOCTz"},{"type":"text","value":"）が起動します．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wnFqbaEHXw"}],"key":"ebzeMY3C4A"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"また，","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jWDAMDJnzd"},{"type":"inlineCode","value":"fig.show()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RtoHGXVt52"},{"type":"text","value":" に ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z7UQyE5Tuo"},{"type":"inlineCode","value":"width=","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OHz0bhHBcv"},{"type":"text","value":"オプションで数字を指定すると，表示される図の大きさを指定できます．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CpyrTqntuT"}],"key":"oDIxFhVHCl"}],"key":"J3T8n0fKCA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"投影法","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vMBczHNsKX"}],"identifier":"id","label":"投影法","html_id":"id-2","implicit":true,"key":"xT526thjcu"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"inlineCode","value":"fig.coast","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"opdiQVL8kW"},{"type":"text","value":"の","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"baW7SMjL17"},{"type":"inlineCode","value":"projection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ffuMfdnyOP"},{"type":"text","value":"オプションで地図投影法を指定しています．ここではロビソン図法（","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vGoemN7lyr"},{"type":"inlineCode","value":"-JN","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hP6QA1VSU4"},{"type":"text","value":"）を用いています．この図法では，中心線の経度（","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MEbdCifz5i"},{"type":"inlineCode","value":"138","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AJnaIe1jRa"},{"type":"text","value":"）と図の横幅の大きさ（","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FaKoSIF0eZ"},{"type":"inlineCode","value":"12c","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mIagJH3tON"},{"type":"text","value":"）を指定する必要があります．投影法の特徴により，図の縦の大きさは描画範囲と横幅から自動的に決まります．","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kISghi55AW"}],"key":"CcsPLGuCcR"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"よく使われるメルカトル図法の場合は中心の経度は必要なく，たとえば ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"XDXNkIvI7L"},{"type":"inlineCode","value":"-JM12c","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xs7KJhYxUX"},{"type":"text","value":" のように指定します．この場合も縦方向の大きさは指定できません．","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"KD8OKp3ndx"}],"key":"Cw7MJWKEni"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"GMTには多種多様な投影法が用意されていますが，ここではその網羅的な説明はしません．必要に応じて他解説や公式マニュアルを参照してください．","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"imJdBTKBwS"}],"key":"k2NSYFSnrM"}],"key":"HSLWWRC1cZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ペンと色","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nMUW9L8uP6"}],"identifier":"id","label":"ペンと色","html_id":"id-3","implicit":true,"key":"AVfPnUpyOs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"GMTにおける線の描画は","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"r6FNxznbOx"}],"key":"Qe2PDyLvEi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"太さ (太さの名前あるいは数値）","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZARLBHXpUp"}],"key":"GWB9iDpXl5"}],"key":"LZb4PjfEwO"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"色 （色名 あるいは RGB）","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yi5T8NPtkF"}],"key":"wOJPkr1Nem"}],"key":"yRwhuGVjmN"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"パターン（パターン名あるいは数値）","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZdC7p0kTZa"}],"key":"E5pCDStX8Y"}],"key":"vL1xOVSewF"}],"key":"cCoFEOyTGh"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"の3つの情報を ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Q2EmvcPl2a"},{"type":"inlineCode","value":",","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"NCu0TmoV9i"},{"type":"text","value":" で組み合わせます．上記のスクリプトの場合は太さが ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RuUCcGrDx4"},{"type":"inlineCode","value":"default","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"MndsrZKRDB"},{"type":"text","value":"，色が ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"g9eweIxeeY"},{"type":"inlineCode","value":"black","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"dTjymmFIgC"},{"type":"text","value":" を組み合わせています．パターンは実線・破線・点線などですが，省略したことでデフォルトの実線が選ばれています．","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"bEefUrVUuc"}],"key":"lxrn6M867O"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"太さの選択肢には ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"BoBFpWvEY5"},{"type":"inlineCode","value":"faint","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VmTXRKxCZx"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ZTUJS9DsUt"},{"type":"inlineCode","value":"default","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"L35gBWYCkO"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"hwJpxceV8E"},{"type":"inlineCode","value":"thinnest","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"T8VsmfdHXf"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JpI86a3ju6"},{"type":"inlineCode","value":"thinner","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WrNJpENplt"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"a1coDvlJOe"},{"type":"inlineCode","value":"thin","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"v74mydLert"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"B7MqUs0blT"},{"type":"inlineCode","value":"thick","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"lkiGvmiGbm"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wHd9xRXqpX"},{"type":"inlineCode","value":"thicker","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"lTgjIRuOPN"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kjr3okUU0w"},{"type":"inlineCode","value":"thickest","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gTWG7ecyv1"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"j2CKlhFm4m"},{"type":"inlineCode","value":"fat","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"NzvLMJKHvi"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vFvXMrYGPl"},{"type":"inlineCode","value":"fatter","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gVjbebbCi2"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Y7frf8JTGp"},{"type":"inlineCode","value":"fattest","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"IKLvT5Lr5P"},{"type":"text","value":" があります．左ほど細いです．色名は主な名前は使えるようです．パターンは","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"qCaQicvYJl"},{"type":"inlineCode","value":"dotted, dashed, solid","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"yKtjRSoQ5s"},{"type":"text","value":"のほか，たとえば","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VyADxUofsN"},{"type":"inlineCode","value":"..","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kjXukQQiS4"},{"type":"text","value":"だと点線，","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"qSdDYJY2tF"},{"type":"inlineCode","value":"--","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"uDX6WtG4ZC"},{"type":"text","value":"だと破線，","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"M7GS2naVj6"},{"type":"inlineCode","value":"-.-","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SPaTcrgWBq"},{"type":"text","value":"だと一点鎖線のような指定もできます．","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"CBoaPtgDcf"}],"key":"B34PH4lLFX"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"色は名前のほか，光の三原色 Red(R), Green(G), Blue(B)の大きさを0-255までの数値で表して，","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"OEkE1VC5AR"},{"type":"inlineCode","value":"R/G/B","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dm0zVc6ZO5"},{"type":"text","value":" で表現することもできます．","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wSo8V3KLEU"}],"key":"smI95P6tME"}],"key":"ERvZiWi5MV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"地図描画 Tips: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mLTtWQiljH"},{"type":"inlineCode","value":"resolution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XOAX1xAwF7"},{"type":"text","value":" と ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XKM10QtYDX"},{"type":"inlineCode","value":"area_thresh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QBybsKv9p8"}],"identifier":"id-tips-resolution-area-thresh","label":"地図描画 Tips: resolution と area_thresh","html_id":"id-tips-resolution-area-thresh","implicit":true,"key":"GZ7jjMW0ek"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"海岸線の解像度は5種類ありますが，粗すぎても細かすぎても綺麗な図になりません．大は小を兼ねると思うかもしれませんが，細かすぎると微細な地形の特徴まで描画されるため，細かな島やリアス式海岸などでごちゃごちゃした印象になりがちです．解像度だけを変えた図を以下に示します．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nSlEkgSPfY"}],"key":"fxXijqd0Uj"}],"key":"eSDZJY0Ouz"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = pygmt.Figure()\n\nfig.shift_origin(3, 25)\n\nfig.coast(\n    projection  = 'N138/8c',                          \n    region      = (128, 146, 30, 46),                 \n    shorelines  = 'default,black',                    \n    resolution  = 'f',                                \n    land        = '249/243/202',                      \n    water       = '190/220/250',                      \n    map_scale   = '142.5/32/32/400',                  \n    frame       = ['WSen+tresolution = f', 'xafg', 'yafg'] \n)\n\nfig.shift_origin(10, 0)\nfig.coast(\n    projection  = 'N138/8c',                          \n    region      = (128, 146, 30, 46),                 \n    shorelines  = 'default,black',                    \n    resolution  = 'h',                                \n    land        = '249/243/202',                      \n    water       = '190/220/250',                      \n    map_scale   = '142.5/32/32/400',                  \n    frame       = ['WSen+tresolution = h', 'xafg', 'yafg']\n)\n\nfig.shift_origin(-10, -11)\nfig.coast(\n    projection  = 'N138/8c',                          \n    region      = (128, 146, 30, 46),                 \n    shorelines  = 'default,black',                    \n    resolution  = 'i',                                \n    land        = '249/243/202',                      \n    water       = '190/220/250',                      \n    map_scale   = '142.5/32/32/400',                  \n    frame       = ['WSen+tresolution = i', 'xafg', 'yafg']\n)\n\nfig.shift_origin(10, 0)\nfig.coast(\n    projection  = 'N138/8c',                          \n    region      = (128, 146, 30, 46),                 \n    shorelines  = 'default,black',                    \n    resolution  = 'l',                                \n    land        = '249/243/202',                      \n    water       = '190/220/250',                      \n    map_scale   = '142.5/32/32/400',                  \n    frame       = ['WSen+tresolution = l', 'xafg', 'yafg']\n)\n\nfig.show()","visibility":"remove","key":"GkzBDxpATI"},{"type":"output","id":"u5EId7EjRE5v6SP13R6QV","data":[{"output_type":"display_data","metadata":{"image/png":{"width":500}},"data":{"image/png":{"content_type":"image/png","hash":"0bc2f1f7e7513b26cd019e19795ed93e","path":"https://tktmyd.github.io/pygmt-howto-jp/build/0bc2f1f7e7513b26cd019e19795ed93e.png"},"text/plain":{"content":"<IPython.core.display.Image object>","content_type":"text/plain"}}}],"visibility":"show","key":"aY6Ja1fzT6"}],"visibility":"show","key":"MssryHT774"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"高解像度ほどよいかというと，特に瀬戸内海などは小さな島がたくさん描画されて，真っ黒になってしまっています．そこで活躍するのが ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mh06ZkK0rx"},{"type":"inlineCode","value":"area_thresh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fhdulTyZG1"},{"type":"text","value":" オプションです．このオプションを指定すると，数値で与えられた面積（km","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EgHXGb7rbX"},{"type":"inlineMath","value":"^2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>","key":"QN1qGfU7Jj"},{"type":"text","value":"）以下のサイズのものが描画されなくなります．そこで，海岸線の解像度は高めにしつつ，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RGVx0LrOg4"},{"type":"inlineCode","value":"area_thresh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fkbFRqgNDs"},{"type":"text","value":"を適宜設定すると綺麗な海岸線が描画できます．いくつか","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KAj8iJLLuv"},{"type":"inlineCode","value":"area_thresh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PrbGGP1gNe"},{"type":"text","value":"の数値を変えた例を示しましょう．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AhJv06QPWZ"}],"key":"bK6kq1q7Ac"}],"key":"cTKeIq7aKH"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = pygmt.Figure()\n\nfig.shift_origin(3, 25)\n\nfig.coast(\n    projection  = 'N138/8c',                         \n    region      = (128, 146, 30, 46),                 \n    shorelines  = 'default,black',                    \n    resolution  = 'f',  \n    land        = '249/243/202',                      \n    water       = '190/220/250',                      \n    map_scale   = '142.5/32/32/400',                  \n    area_thresh = 0, \n    frame       = ['WSen+tarea_thresh=0', 'xafg', 'yafg']\n)\n\nfig.shift_origin(10, 0)\nfig.coast(\n    projection  = 'N138/8c',                          # 投影法とサイズ．メルカトルなら 'M12c' など．\n    region      = (128, 146, 30, 46),                 # 領域はリストかタプルで与える．\n    shorelines  = 'default,black',                    # 海岸線のペンの設定．\n    resolution  = 'h',                                # 'c', 'l', 'i', 'h', 'f' の順に高くなる\n    land        = '249/243/202',                      # 陸地の色を 0-255の値の R/G/B で指定\n    water       = '190/220/250',                      # 水の色を 0-255の値の R/G/B で指定\n    map_scale   = '142.5/32/32/400',                  # 距離スケールの水平・縦位置と距離サイズ\n    area_thresh = 100, \n    frame       = ['WSen+tarea_thresh=100', 'xafg', 'yafg']\n)\n\nfig.shift_origin(-10, -11)\nfig.coast(\n    projection  = 'N138/8c',                          # 投影法とサイズ．メルカトルなら 'M12c' など．\n    region      = (128, 146, 30, 46),                 # 領域はリストかタプルで与える．\n    shorelines  = 'default,black',                    # 海岸線のペンの設定．\n    resolution  = 'i',                                # 'c', 'l', 'i', 'h', 'f' の順に高くなる\n    land        = '249/243/202',                      # 陸地の色を 0-255の値の R/G/B で指定\n    water       = '190/220/250',                      # 水の色を 0-255の値の R/G/B で指定\n    map_scale   = '142.5/32/32/400',                  # 距離スケールの水平・縦位置と距離サイズ\n    area_thresh = 10000, \n    frame       = ['WSen+tarea_thresh=10000', 'xafg', 'yafg']\n\n)\n\nfig.shift_origin(10, 0)\nfig.coast(\n    projection  = 'N138/8c',                          # 投影法とサイズ．メルカトルなら 'M12c' など．\n    region      = (128, 146, 30, 46),                 # 領域はリストかタプルで与える．\n    shorelines  = 'default,black',                    # 海岸線のペンの設定．\n    resolution  = 'l',                                # 'c', 'l', 'i', 'h', 'f' の順に高くなる\n    land        = '249/243/202',                      # 陸地の色を 0-255の値の R/G/B で指定\n    water       = '190/220/250',                      # 水の色を 0-255の値の R/G/B で指定\n    map_scale   = '142.5/32/32/400',                  # 距離スケールの水平・縦位置と距離サイズ\n    area_thresh = 100000, \n    frame       = ['WSen+tarea_thresh=100000', 'xafg', 'yafg']\n\n)\n\nfig.show()","visibility":"remove","key":"OazDlEZwSx"},{"type":"output","id":"Wg4h0cojUPG_rC-HfhnjY","data":[{"output_type":"display_data","metadata":{"image/png":{"width":500}},"data":{"image/png":{"content_type":"image/png","hash":"5824d27c906868628760285f8ddda6e0","path":"https://tktmyd.github.io/pygmt-howto-jp/build/5824d27c906868628760285f8ddda6e0.png"},"text/plain":{"content":"<IPython.core.display.Image object>","content_type":"text/plain"}}}],"visibility":"show","key":"l8tSaBiq0Y"}],"visibility":"show","key":"VIYoKfhJXM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"後半は明らかにやりすぎですね．\n日本列島全体を表示するなら，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"grLDYQD1BY"},{"type":"inlineCode","value":"area_thresh=100","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CEmMskhf0c"},{"type":"text","value":"程度がほどよいように思います．もっと細かな地域を表示する場合は，適宜","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aaPhXaHEc6"},{"type":"inlineCode","value":"area_thresh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LfIBDGEcr9"},{"type":"text","value":"の値を小さくするとよいでしょう．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xWOMy0Nk9I"}],"key":"Smy3fwzLds"}],"key":"hbhsfpCR9m"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"basemap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rBrqM1wcUL"},{"type":"text","value":" とパラメタの省略","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bj3TDirjd8"}],"identifier":"basemap","label":"basemap とパラメタの省略","html_id":"basemap","implicit":true,"key":"D4xxBYhyQ8"}],"key":"IceezH7fLr"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"上記の例では ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vj6qlwEYBI"},{"type":"inlineCode","value":"fig.coast","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vNidEAfx8d"},{"type":"text","value":" ひとつですべてを描画しましたが，軸の描画を ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VgiUwzVgF4"},{"type":"inlineCode","value":"fig.basemap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tkDvxEDf1g"},{"type":"text","value":" に任せることもできます：","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jm4QwiDAYw"}],"key":"Vrcub1p6F1"}],"key":"hG08TFQR6b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = pygmt.Figure()\n\n\nfig.coast(\n    projection  = 'N138/12c',          \n    region      = (128, 146, 30, 46),  \n    shorelines  = 'default,black',     \n    area_thresh = 100,                 \n    resolution  = 'f',                 \n    land        = '249/243/202', \n    water       = '190/220/250', \n    map_scale   = '142.5/32/32/400',   \n)\n\nfig.basemap(\n    frame       = ['WSen+tFigure', 'xafg', 'yafg'] \n)\n\nfig.show()","key":"NzAkbMAyQX"},{"type":"output","id":"x_lSNTpe-38YlUf4g_Spu","data":[{"output_type":"display_data","metadata":{"image/png":{"width":500}},"data":{"image/png":{"content_type":"image/png","hash":"f649225772d5a8d5e0fbcd6b9c0d3b05","path":"https://tktmyd.github.io/pygmt-howto-jp/build/f649225772d5a8d5e0fbcd6b9c0d3b05.png"},"text/plain":{"content":"<IPython.core.display.Image object>","content_type":"text/plain"}}}],"key":"QlAHpEw6E8"}],"key":"yRe546wuDK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"上記の例では，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ioAuXV3N5b"},{"type":"inlineCode","value":"fig.basemap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hDms8Gmkkz"},{"type":"text","value":" のオプションは ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TLWXWcjLYx"},{"type":"inlineCode","value":"frame","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RHjFxeiFNw"},{"type":"text","value":" しかないことに注目してください．","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HfcImxJ61n"}],"key":"Ueh7qu757T"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"必須と思える ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qxVSxVaaxJ"},{"type":"inlineCode","value":"projection","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wuIVhk7UAk"},{"type":"text","value":" や ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MM7IdixNjL"},{"type":"inlineCode","value":"region","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zZX2zwyu20"},{"type":"text","value":" といったオプションは，その前の ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sPuKhYW7bk"},{"type":"inlineCode","value":"fig.coast","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hse5wB6nqa"},{"type":"text","value":" で用いられた値が自動的に引き継がれています．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AquxJxuDLD"}],"key":"WQRIFqnvW9"}],"key":"wM8aRDV8KB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GMTから移行するユーザー向けの話題","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A2RSvItRgr"}],"identifier":"gmt","label":"GMTから移行するユーザー向けの話題","html_id":"gmt","implicit":true,"key":"GrgnEdr0gy"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"エイリアス","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LO2BD7t2RY"}],"identifier":"id","label":"エイリアス","html_id":"id-4","implicit":true,"key":"DjCAudzTEw"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"PyGMTでは，従来のGMTと比べてオプションの意味が多くの人にとってわかりやすい名前がつけられています．一方，昔からのGMTのオプション名を把握している旧GMTユーザー向け（？）に，従来オプション名のエイリアスも設定されています．たとえば先程の地図は，以下のようなエイリアスオプション名を用いて作成することもできます．初めて見る人には全く意味不明のオプションでしょうが，GMTに馴染みのある人にはむしろ使いやすいかもしれません．","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"d7o1RaOqq3"}],"key":"jmV6nH5MPS"}],"key":"kDIwMKSMNJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = pygmt.Figure()\n\nfig.coast(\n    J = 'N138/12c',                        \n    R = '128/146/30/46',                \n    W = 'default,black',                   \n    A = 100,                               \n    D = 'f',                               \n    G = '249/243/202',                     \n    S = '190/220/250',                     \n    L = '142.5/32/32/400',                 \n    B = ['WSen+tFigure', 'xafg', 'yafg'] \n)\n\nfig.show()","key":"A9hBBG8S65"},{"type":"output","id":"M8KlHXUmby9442EaZa2dj","data":[{"name":"stderr","output_type":"stream","text":"/var/folders/wt/2gls824s1d3dfj1rwm2l_b8w0000gn/T/ipykernel_30912/856730296.py:3: SyntaxWarning: Short-form parameter (A) is not recommended. Use long-form parameter 'area_thresh' instead.\n  fig.coast(\n/var/folders/wt/2gls824s1d3dfj1rwm2l_b8w0000gn/T/ipykernel_30912/856730296.py:3: SyntaxWarning: Short-form parameter (B) is not recommended. Use long-form parameter 'frame' instead.\n  fig.coast(\n/var/folders/wt/2gls824s1d3dfj1rwm2l_b8w0000gn/T/ipykernel_30912/856730296.py:3: SyntaxWarning: Short-form parameter (G) is not recommended. Use long-form parameter 'land' instead.\n  fig.coast(\n/var/folders/wt/2gls824s1d3dfj1rwm2l_b8w0000gn/T/ipykernel_30912/856730296.py:3: SyntaxWarning: Short-form parameter (L) is not recommended. Use long-form parameter 'map_scale' instead.\n  fig.coast(\n/var/folders/wt/2gls824s1d3dfj1rwm2l_b8w0000gn/T/ipykernel_30912/856730296.py:3: SyntaxWarning: Short-form parameter (S) is not recommended. Use long-form parameter 'water' instead.\n  fig.coast(\n/var/folders/wt/2gls824s1d3dfj1rwm2l_b8w0000gn/T/ipykernel_30912/856730296.py:3: SyntaxWarning: Short-form parameter (W) is not recommended. Use long-form parameter 'shorelines' instead.\n  fig.coast(\n"},{"output_type":"display_data","metadata":{"image/png":{"width":500}},"data":{"image/png":{"content_type":"image/png","hash":"f649225772d5a8d5e0fbcd6b9c0d3b05","path":"https://tktmyd.github.io/pygmt-howto-jp/build/f649225772d5a8d5e0fbcd6b9c0d3b05.png"},"text/plain":{"content":"<IPython.core.display.Image object>","content_type":"text/plain"}}}],"key":"cFqNxwbX4w"}],"key":"VEhDZENVpQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"オプション名のエイリアスなので当然ですが，結果として得られる画像は全く同じです．ただし，","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jQPZ8NbPDo"}],"key":"cwEiUxjsUJ"},{"type":"code","lang":"text","value":"Short-form parameter (A) is not recommended. \nUse long-form parameter 'area_thresh' instead.","position":{"start":{"line":2,"column":1},"end":{"line":5,"column":1}},"key":"TDVQGJ3HTI"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"のような警告がたくさん出てきます．","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EJzRUcNCLF"}],"key":"iErYf4emKf"}],"key":"DBSShmop33"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"DDQqj3SQUf"}],"key":"UYOJj1trqH"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"従来のGMTユーザーは，この警告を逆手にとって，まず自分の知っている short-form オプションでpygmtを動かしてみて，\nそこで表示される ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LMfvk57PEz"},{"type":"inlineCode","value":"SyntaxWarning","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KlHBfpDvOJ"},{"type":"text","value":" を見て現代的な long-form parameter 名を調べるようにすると，ドキュメントを引く手間が省けてよいかもしれません．","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NU4LsUazKI"}],"key":"ueFEQMNRNT"}],"key":"kq6sy5cV6z"}],"key":"T3Ri3pbvXt"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"danger","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Danger","key":"sUlFNkjLyd"}],"key":"OIxupfDWhU"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"さらに凝ったTipsとしては，","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"txTffxPTRd"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"公式には実装，ドキュメント化されていない機能の利用","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Ts8DF9vJV0"}],"key":"mYBQVQHiQb"},{"type":"text","value":" があります．PyGMTの公式マニュアルを読んでいると，GMTの各モジュールに対して，必ずしもすべてのオプションが実装，ドキュメント化されているわけではないことがわかります．","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RF17pjCr01"}],"key":"h14cviwjQp"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"しかし，そのような場合でもshort-formオプションをつかうと「動いてしまう」ことがしばしばあるようなのです．もちろんこれは自己責任での利用になりますし，今後PyGMTの開発が進むことで減っていくことでしょう．","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OOqfT4PmHZ"}],"key":"Z7fBD1v3qp"}],"key":"sk3Fq2WqT5"}],"key":"x915FZe44q"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"従来型のGMTスクリプトとの比較","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MjpDlXwRDc"}],"identifier":"id-gmt","label":"従来型のGMTスクリプトとの比較","html_id":"id-gmt","implicit":true,"key":"OwESNxci2S"}],"key":"NRKtkHCurq"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"pygmtとシェルスクリプトの比較","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KAdVdnLaN8"}],"identifier":"pygmt","label":"pygmtとシェルスクリプトの比較","html_id":"pygmt-1","implicit":true,"key":"ZWtYastqm0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"これまでに紹介した PyGMTのスクリプトと，それらと（ほとんど）同じ図を出力するbashによる従来型のGMTスクリプトを比較してみます．以下のタブをクリックするとコードが表示されます．なお，比較しやすいようできるだけ改行を多めに書いています．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MBRl7HGY15"}],"key":"hE4HCzsrsr"},{"type":"tabSet","children":[{"type":"tabItem","title":"pygmt long","children":[{"type":"code","lang":"python","value":"fig = pygmt.Figure()\n\nfig.coast(\n    projection  = 'N138/12c',\n    region      = (128, 146, 30, 46),\n    shorelines  = 'default,black',\n    area_thresh = 100,\n    resolution  = 'f',\n    land        = '230/240/220',\n    water       = '220/235/250',\n    map_scale   = '142.5/32/32/400',\n    frame       = ['WSen+tFigure', 'xafg', 'yafg']\n)","position":{"start":{"line":8,"column":1},"end":{"line":22,"column":1}},"key":"IIaBInGbgR"}],"key":"Werl1YduzL"},{"type":"tabItem","title":"pygmt short","children":[{"type":"code","lang":"python","value":"fig = pygmt.Figure()\n\nfig.coast(\n    J = 'N138/12c',                        \n    R = (128, 146, 30, 46),                \n    W = 'default,black',                   \n    A = 100,                               \n    D = 'f',                               \n    G = '230/240/220',                     \n    S = '220/235/250',                     \n    L = '142.5/32/32/400',                 \n    B = ['WSen+tFigure', 'xafg', 'yafg'] \n)","position":{"start":{"line":25,"column":1},"end":{"line":39,"column":1}},"key":"OxidLPfpdL"}],"key":"w38dRMWQhF"},{"type":"tabItem","title":"bash classic","children":[{"type":"code","lang":"bash","value":"#!/bin/bash\n\n# 海岸線と枠を描画\ngmt pscoast -JN138/12c \\\n            -R128/146/30/46 \\\n            -Wdefault,black \\\n            -A100 \\\n            -Df \\\n            -G230/240/220 \\\n            -S220/235/250 \\\n            -L142.5/32/32/400 \\\n            -BWSen+t\"Figure\" -Bxafg -Byafg \\\n> fig/classic-coastline.ps\n\n# Postscript画像をPNGに変換\ngmt psconvert -Tg -A -P -Qg2 -Qt2 fig/classic-coastline.ps\n\n# 不要な中間生成物であるPostscriptを削除\nrm -f fig/classic-coastline.ps","position":{"start":{"line":42,"column":1},"end":{"line":62,"column":1}},"key":"L9MPWbjc1O"}],"key":"lw1HnuscS2"},{"type":"tabItem","title":"bash modern","children":[{"type":"code","lang":"bash","value":"#!/bin/bash\n\n# modern mode では gmt begin ~ end の間でコマンド実行．\ngmt begin fig/modern-coastline png\n\n    gmt coast \\\n        -JN138/12c \\\n        -R128/146/30/46 \\\n        -Wdefault,black \\\n        -A100 \\\n        -Df \\\n        -G230/240/220 \\\n        -S220/235/250 \\\n        -L142.5/32/32/400 \\\n        -BWSen+t\"Figure\" -Bxafg -Byafg \n        \ngmt end","position":{"start":{"line":65,"column":1},"end":{"line":83,"column":1}},"key":"isvde1Mhr7"}],"key":"j9tL8yWCkm"}],"key":"Yr2t47PHW0"},{"type":"paragraph","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"このような単一のコマンドからなるスクリプトではあまり差が大きくありませんが，コードの可読性は一番左のpygmt long optionがもっとも高いでしょう．また，PyGMTとGMT6 modern modeでは複数のGMTコマンドを用いる図においてミスを犯しやすい ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"cCLhzrnjGU"},{"type":"inlineCode","value":"-O","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"QgT4uYJ6l2"},{"type":"text","value":" と ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"DOdPBoWpI0"},{"type":"inlineCode","value":"-K","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"X1MXegYXO3"},{"type":"text","value":" オプションが不要であったり，現代では直接用いることはあまりない（と思われる）Postscriptファイルから他形式に変換する手間が省けています．","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"AlrXC18KpE"}],"key":"fuoIeNS687"}],"visibility":"show","key":"h1laS0Y2pE"}],"key":"eH3UdMZb0X"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"PyGMTの環境構築","url":"/install","group":"PyGMT-HOWTO"},"next":{"title":"画像の保存","url":"/savefig","group":"PyGMT-HOWTO"}}},"domain":"http://localhost:3000"}